#on early-init
#	mkdir /vendor/etc/wifi 0771 system system
#
#on post-fs-data
## SCSC WLAN
#	# Setup Wi-Fi permissions
#	mkdir /data/vendor/wifi 0770 wifi system
#	mkdir /data/vendor/wifi/wpa 0770 wifi system
#	mkdir /data/vendor/wifi/hostapd 0770 wifi system
#	mkdir /data/vendor/wifi/wpa/sockets 0770 wifi wifi
#	mkdir /data/vendor/wifi/hostapd/sockets 0770 wifi wifi
#	mkdir /vendor/etc/wifi 0770 system system
#	mkdir /data/vendor/log/wifi 0770 wifi wifi
#	mkdir /data/vendor/conn 0770 wifi wifi
#	chown wifi wifi /sys/wifi/memdump
#
on boot
#	setprop wifi.interface wlan0
#	# SCSC do not enable autorecovery in dev builds
#	# write /sys/module/scsc_mx/parameters/disable_recovery_handling 0
#
#	## SCSC WLAN
#	# SD-755: Increase default socket rx buffer limit
#	# Apply network parameters for high data performance.
#	write /proc/sys/net/core/rmem_default 327680
#	write /proc/sys/net/core/rmem_max 8388608
#	write /proc/sys/net/core/wmem_default 2805760
#	write /proc/sys/net/core/wmem_max 8388608
#	write /proc/sys/net/core/optmem_max 20480
#	write /proc/sys/net/core/netdev_max_backlog 100000
#	write /proc/sys/net/ipv4/tcp_rmem "2097152 4194304 8388608"
#	write /proc/sys/net/ipv4/tcp_wmem "262144 524288 1048576"
#	write /proc/sys/net/ipv4/tcp_mem "44259 59012 88518"
#	write /proc/sys/net/ipv4/udp_mem "88518 118025 177036"
#
#	write /sys/class/net/rmnet0/queues/rx-0/rps_cpus fe
#	write /sys/class/net/rmnet1/queues/rx-0/rps_cpus fe
#	write /sys/class/net/rmnet2/queues/rx-0/rps_cpus fe
#	write /sys/class/net/rmnet3/queues/rx-0/rps_cpus fe
#	write /sys/class/net/rmnet4/queues/rx-0/rps_cpus fe
#	write /sys/class/net/rmnet5/queues/rx-0/rps_cpus fe
#	write /sys/class/net/rmnet6/queues/rx-0/rps_cpus fe
#	write /sys/class/net/rmnet7/queues/rx-0/rps_cpus fe

	## SCSC BT
	chown bluetooth bluetooth /sys/module/scsc_bt/parameters/bluetooth_address

on fs
	# FM Radio (Comment this for now - enabled in previous projects)
	chmod 0666 /dev/radio0

# SCSC WLBTD daemon
#service wlbtd /vendor/bin/wlbtd
#	class main
#	user wifi
#	group wifi inet log sdcard_rw misc
#
## SCSC WLAN
# WiFi wpa suppplicant service
#service wpa_supplicant /vendor/bin/hw/wpa_supplicant -ddd -t \
#	-ip2p0  -Dnl80211 -c/data/vendor/wifi/wpa/p2p_supplicant.conf -N \
#	-iwlan0 -Dnl80211 -c/data/vendor/wifi/wpa/wpa_supplicant.conf \
#	-O/data/vendor/wifi/wpa/sockets \
#	-e/data/misc/wifi/entropy.bin -g@android:wpa_wlan0
#	#   we will start as root and wpa_supplicant will switch to user wifi
#	#   after setting up the capabilities required for WEXT
#	#   user wifi
#	#   group wifi inet keystore
#	interface android.hardware.wifi.supplicant@1.0::ISupplicant default
#	interface android.hardware.wifi.supplicant@1.1::ISupplicant default
#	interface android.hardware.wifi.supplicant@1.2::ISupplicant default
#	interface android.hardware.wifi.supplicant@1.3::ISupplicant default
#
#	class main
#	socket wpa_wlan0 dgram 660 wifi wifi
#	disabled
#	oneshot
#	seclabel u:r:hal_wifi_supplicant_default:s0
#
#service dhcpcd_wlan0 /vendor/bin/dhcpcd -aABDKL
#	class main
#	disabled
#	oneshot
#
#service iprenew_wlan0 /vendor/bin/dhcpcd -n
#	class main
#	disabled
#	oneshot
#
#service dhcpcd_p2p /vendor/bin/dhcpcd -aABKL
#	class main
#	disabled
#	oneshot
#
#service iprenew_p2p /vendor/bin/dhcpcd -n
#	class main
#	disabled
#	oneshot

# SPE-1748: PANU DHCP Client not launched
service dhcpcd_bt-pan /vendor/bin/dhcpcd -ABKL
	class main
	disabled
	oneshot

service iprenew_bt-pan /vendor/bin/dhcpcd -n
	class main
	disabled
	oneshot
